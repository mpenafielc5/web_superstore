:root{
  --accent:#0A84FF;
  --page-bg:#F5F7FB;
  --surface:rgba(255,255,255,.75);
  --surface-solid:#FFF;
  --border:rgba(16,24,40,.08);
  --text:#0B1220;
  --muted:#667185;
  --table-stripe:rgba(16,24,40,.03);
  --chart-grid:rgba(16,24,40,.10);
  --chart-tick:#475467;
  --radius:18px;
}

[data-bs-theme="dark"]{
  --accent:#0A84FF;
  --page-bg:#0E1117;
  --surface:rgba(18,22,30,.6);
  --surface-solid:#121722;
  --border:rgba(255,255,255,.08);
  --text:#E6EDF3;
  --muted:#9FB1C3;
  --table-stripe:rgba(255,255,255,.04);
  --chart-grid:rgba(255,255,255,.14);
  --chart-tick:#CBD5E1;
}

html, body{
  background:var(--page-bg);
  color:var(--text);
  font-family:"Inter",-apple-system,system-ui,"SF Pro Text","Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
}

a{ color:var(--accent); }

.navbar{
  position:sticky; top:0; z-index:1000;
  background:var(--surface);
  border-bottom:1px solid var(--border);
  backdrop-filter:saturate(180%) blur(18px);
  -webkit-backdrop-filter:saturate(180%) blur(18px);
}
.page-header{
  border-bottom:1px solid var(--border);
  backdrop-filter:saturate(180%) blur(12px);
  -webkit-backdrop-filter:saturate(180%) blur(12px);
}
.page-title{ font-weight:700; letter-spacing:.2px; }

.card{
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:0 10px 30px rgba(0,0,0,.06);
}
.btn-primary{
  background:var(--accent);
  border-color:var(--accent);
  box-shadow:0 4px 14px rgba(10,132,255,.25);
}
.form-control,.form-select{
  border-radius:14px;
  border-color:var(--border);
  background-color:var(--surface-solid);
  color:var(--text);
}
.form-label{ color:var(--muted); font-weight:500; }

#activeFilters .badge{
  background:transparent;
  border:1px solid var(--border);
  color:var(--text);
  padding:.5rem .75rem;
  border-radius:999px;
  font-weight:500;
}
#activeFilters .badge a{ text-decoration:none; }
#activeFilters .badge:hover{ background:var(--table-stripe); }

.table{ color:var(--text); }
.table thead th{ border-color:var(--border)!important; font-weight:600; }
.table tbody td{ border-color:var(--border)!important; }
.table tbody tr:nth-child(even){ background-color:var(--table-stripe); }

.list-group-item{
  background:transparent;
  border-color:var(--border);
  color:var(--text);
}

.kpi-number{ font-size:2rem; font-weight:700; }
.chart-box{ position:relative; height:320px; }
.chart-box-sm{ position:relative; height:240px; }
canvas{ display:block; max-width:100%; }

.flatpickr-calendar{
  background:var(--surface-solid);
  border:1px solid var(--border);
  border-radius:16px;
  box-shadow:0 12px 40px rgba(0,0,0,.12);
  overflow:hidden; font-family:inherit;
}
.flatpickr-months .flatpickr-month{ height:56px; background:var(--surface-solid); }
.flatpickr-current-month{
  display:flex; align-items:center; justify-content:center; gap:8px;
  font-weight:700; color:var(--text); letter-spacing:.2px;
}
.flatpickr-current-month .cur-month{ font-size:16px; font-weight:700; }
.flatpickr-current-month input.cur-year{
  font-size:16px; font-weight:700; color:var(--text);
  background:transparent; border:none; width:60px; text-align:left; padding:0; margin:0; outline:none; -moz-appearance:textfield;
}
.flatpickr-current-month input.cur-year::-webkit-outer-spin-button,
.flatpickr-current-month input.cur-year::-webkit-inner-spin-button{ -webkit-appearance:none; margin:0; }

.flatpickr-months .flatpickr-prev-month,
.flatpickr-months .flatpickr-next-month{
  top:10px; width:36px; height:36px; border-radius:10px; display:grid; place-items:center; color:var(--text);
}
.flatpickr-months .flatpickr-prev-month:hover,
.flatpickr-months .flatpickr-next-month:hover{ background:var(--table-stripe); }

.flatpickr-day{
  border-radius:10px; max-width:44px; height:44px; line-height:44px; margin:3px; font-weight:600;
}
.flatpickr-day.today{ box-shadow:inset 0 0 0 2px var(--accent); }
.flatpickr-day.selected,.flatpickr-day.startRange,.flatpickr-day.endRange{
  background:var(--accent)!important; border-color:var(--accent)!important; color:#fff!important;
}
.flatpickr-time{ border-top:1px solid var(--border); }

.flatpickr-current-month .flatpickr-monthDropdown-months{
  appearance:none; background:var(--surface-solid); border:1px solid var(--border);
  border-radius:10px; padding:6px 28px 6px 10px; font-size:16px; font-weight:700; color:var(--text); cursor:pointer;
}
.flatpickr-current-month .flatpickr-monthDropdown-months:focus{
  outline:none; box-shadow:0 0 0 3px rgba(10,132,255,.25);
}

@media (max-width: 991.98px){
  .chart-box{ height:260px; }
  .chart-box-sm{ height:200px; }
}

.brand-mark{
  width:32px; height:32px; border-radius:10px;
  display:grid; place-items:center;
  color:#fff; background: linear-gradient(135deg, #0A84FF 0%, #7AA8FF 100%);
  box-shadow: 0 6px 18px rgba(10,132,255,.25);
}
.brand-mark .ti{ font-size:18px; line-height:1; }

.navbar-brand-text{
  font-weight:800; letter-spacing:.2px;
  background: linear-gradient(135deg, #0B1220 0%, #475467 100%);
  -webkit-background-clip:text; background-clip:text; color:transparent;
}
[data-bs-theme="dark"] .navbar-brand-text{
  background: linear-gradient(135deg, #E6EDF3 0%, #9FB1C3 100%);
  -webkit-background-clip:text; background-clip:text; color:transparent;
}

.mini-bar{
  display:inline-block; width:100%; height:6px;
  background: var(--table-stripe); border-radius:999px; overflow:hidden;
}
.mini-bar > span{
  display:block; height:100%; background: var(--accent); opacity:.85;
}

@media (min-width: 768px){
  #filtersCollapse{ display:block !important; height:auto !important; }
}

@media (max-width: 767.98px){
  .chart-box{ height:220px; }
  .chart-box-sm{ height:180px; }
  .kpi-number{ font-size:1.6rem; }
  .table{ font-size:.9rem; }
  .page-header .page-title{ font-size:1.1rem; }
}

#kpiSegment{ display:grid; grid-template-columns:1fr; gap:.5rem; }
@media (min-width: 576px){
  #kpiSegment{ grid-template-columns:repeat(2,1fr); }
}
.list-group-item{ border-radius:12px; }

#legendCategory{
  display:flex; flex-wrap:wrap; gap:.5rem;
}
#legendCategory .badge{
  display:inline-flex; align-items:center; gap:.35rem;
  background:transparent; border:1px solid var(--border);
  padding:.375rem .5rem; border-radius:999px;
  overflow:visible; max-width:100%;
}
#legendCategory .label{
  max-width:12rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}

#legendCategory .mini-bar{
  display:inline-block; width:96px; height:6px;
  background: var(--table-stripe); border-radius:999px; overflow:hidden;
  vertical-align:middle; margin-left:.35rem;
}

@media (max-width: 767.98px){
  #legendCategory{ gap:.35rem; }
  #legendCategory .badge{ padding:.3rem .45rem; font-size:.9rem; }
  #legendCategory .label{ max-width:9.5rem; }
  #legendCategory .mini-bar{ width:64px; height:5px; }
}

[data-force-mobile="1"] #legendCategory{ display:flex; }

